# 数据库作业2

[Latex写数据库作业](https://blog.csdn.net/JuneWindy/article/details/79825666)

## 1
试述关系模型的三个组成部分。 
关系模型由关系数据结构、关系操作集合和关系完整性约束三部分组成。

## 3
定义并理解下列术语，说明它们之间的联系与区别： 
（1）域，笛卡儿积，关系，元组，属性： 
**域**是一组具有相同数据类型的值的集合。 
**笛卡儿积**是域上的一种集合运算。


关系是笛卡儿积的有限子集，所以关系也是一张二维表，表的每行对应一个元组，表的每列对应一个域。由于域可以相同，为了加以区分，必须对每列起一个名字，称为**属性**。

联系与区别：域是一个集合，笛卡尔积是一种集合运算，关系是笛卡尔积运算结果的子集（也是一个集合），元组是关系集合中的一个元素，属性是关系二维表中每列的一个名字。

（2）主码，候选码，外码： 
若关系中的某一属性组的值能唯一地标识一个元组，而其子集不能，则称该属性组为**候选码**。
若一个关系有多个候选码，则选定其中一个为**主码**。
设F是基本关系R的一个或一组属性，但不是关系R的码，Ks是基本关系S的主码。如果F与Ks相对应，则称F是R的**外码**。

（3）关系模式，关系，关系数据库。
**关系**是笛卡儿积的有限子集，关系的描述称为**关系模式** ，可表示为R(U,D,DOM,F)，**关系数据库**通常指关系数据库的值，是关系模式在某一时刻对应的关系的集合。

## 6
设有一个 SPJ 数据库，包括 S、 P、 J 及 SPJ 4 个关系校式：
S(SNO,SNAME,STATUS,CITY);
P(PNO,PNAME,COLOR, WEIGHT);
J(JNO,JNAME,CITY);
SPJ(SNO,PNO,JNO,QTY)。 

供应商表 S 由供应商代码 (SNO) 、供应商姓名 (SNAME) 、供应商状态 (STATUS) 、供应商所在城市 ( CITY) 组成。
零件表 P 由零件代码 (PNO) 、零件名 (PNAME ) 、 颜色 (COLOR) 、重量 (WEIGHT) 组成。
工程项目表 J 由工程项目代码 (JNO) 、工程项目名 (JNAME ) 、工程项目所在城市 (CITY ) 组成。
供应情况表 SPJ 由供应商代码 (SNO) 、 零件代码 (PNO) 、工程项目代码 (JNO) 、供应数量 (QTY)组成， 表示某供应商供应某种零件给某工程项目的数量为 QTY。

试用关系代数、 ALPHA 语言、 QBE 语言完成如下查询： 
### (1) 
求供应工程 J1 零件的供应商号码 SNO；

$$
\sqcap_{SNO}(\sigma_{JNO='J1'}(SPJ))
$$

### (2) 
求供应工程 J1 零件 P1 的供应商号码 SNO；

$$
\sqcap_{SNO}(\sigma_{JNO='J1'\wedge PNO='P1'}(SPJ))
$$

### (3) 
求供应工程 J1 零件为红色的供应商号码 SNO；

$$
\sqcap_{SNO}(\sqcap_{SNO,PNO}(\sigma_{JNO='J1'}(SPJ)) \bowtie \sqcap_{PNO}(\sigma_{COLOR='红色'}(P)))
$$


### (4) 
求没有使用天津供应商生产的红色零件的工程号 JNO; 

$$
\sqcap_{JNO}(J)-\sqcap_{SNO}(\sigma_{CITY='天津'}(S)) \bowtie \sqcap_{SNO,PNO,JNO}(SPJ) \bowtie \sqcap_{PNO}(\sigma_{COLOR='红色'}(P))
$$


### (5) 
求至少用了供应商 S1 所供应的全部零件的工程号 JNO。 

$$
\sqcap_{JNO,PNO}(SPJ)\div \sqcap_{PNO}(\sigma_{SNO='S1'}(SPJ))
$$



## 补充题

所有的属性组有，(A), (B), (C), (D), (AB), (AC), (AD), (BC), (BD), (CD), (ABC), (BCD), (ABCD)。
去除不能唯一地标识一个元组的属性组，还剩下，(A), (AB), (AC), (AD), (BC), (BD), (ABC), (BCD), (ABCD)。
去除子集中可以唯一标识一个元组的属性组，还剩下，(A), (BC), (BD)。
综上所述：所有的候选码有：(A), (BC), (BD)